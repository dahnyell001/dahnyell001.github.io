<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Modern Timer & Stopwatch</title>

<style>
:root{
    --bg:#0f172a;
    --card:#1e293b;
    --text:#ffffff;
    --primary:#3b82f6;
}

.light{
    --bg:#f1f5f9;
    --card:#ffffff;
    --text:#0f172a;
}

body{
    margin:0;
    font-family: 'Segoe UI', sans-serif;
    background:var(--bg);
    color:var(--text);
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:100vh;
    transition:0.3s;
}

.container{
    width:95%;
    max-width:400px;
    background:var(--card);
    padding:25px;
    border-radius:20px;
    box-shadow:0 10px 30px rgba(0,0,0,0.3);
    text-align:center;
}

h1{
    margin-bottom:10px;
}

.time{
    font-size:48px;
    margin:20px 0;
    font-weight:bold;
}

button{
    padding:10px 15px;
    margin:5px;
    border:none;
    border-radius:10px;
    background:var(--primary);
    color:white;
    font-size:14px;
    cursor:pointer;
}

button:hover{
    opacity:0.9;
}

input{
    width:60px;
    padding:8px;
    margin:5px;
    border-radius:8px;
    border:1px solid #ccc;
}

.laps{
    max-height:120px;
    overflow:auto;
    text-align:left;
    font-size:14px;
}

.toggle{
    margin-bottom:15px;
    cursor:pointer;
    font-size:14px;
}
</style>
</head>

<body>

<div class="container">
    <div class="toggle" onclick="toggleTheme()">üåô Toggle Dark / Light</div>

    <h1>‚è± Stopwatch</h1>
    <div class="time" id="stopwatch">00:00:00</div>
    <button onclick="startStopwatch()">Start</button>
    <button onclick="stopStopwatch()">Stop</button>
    <button onclick="resetStopwatch()">Reset</button>
    <button onclick="addLap()">Lap</button>

    <div class="laps" id="laps"></div>

    <hr>

    <h1>‚è≥ Timer</h1>
    <div>
        <input type="number" id="minutes" placeholder="Min">
        <input type="number" id="seconds" placeholder="Sec">
    </div>
    <div class="time" id="timer">00:00</div>
    <button onclick="startTimer()">Start</button>
    <button onclick="stopTimer()">Stop</button>
    <button onclick="resetTimer()">Reset</button>

    <!-- Sound -->
    <audio id="alarm">
        <source src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg">
    </audio>
</div>

<script>
/* THEME TOGGLE */
function toggleTheme(){
    document.body.classList.toggle("light");
}

/* STOPWATCH */
let stopwatchInterval;
let stopwatchTime = 0;

function formatTime(time){
    let hrs = Math.floor(time/3600);
    let mins = Math.floor((time%3600)/60);
    let secs = time%60;

    return String(hrs).padStart(2,"0")+":"+
           String(mins).padStart(2,"0")+":"+
           String(secs).padStart(2,"0");
}

function startStopwatch(){
    if(!stopwatchInterval){
        stopwatchInterval = setInterval(()=>{
            stopwatchTime++;
            document.getElementById("stopwatch").innerText =
                formatTime(stopwatchTime);
        },1000);
    }
}

function stopStopwatch(){
    clearInterval(stopwatchInterval);
    stopwatchInterval=null;
}

function resetStopwatch(){
    stopStopwatch();
    stopwatchTime=0;
    document.getElementById("stopwatch").innerText="00:00:00";
    document.getElementById("laps").innerHTML="";
}

function addLap(){
    if(stopwatchTime>0){
        let lap = document.createElement("div");
        lap.innerText = "Lap: "+formatTime(stopwatchTime);
        document.getElementById("laps").appendChild(lap);
    }
}

/* TIMER */
let timerInterval;
let timerTime = 0;

function startTimer(){
    let mins = parseInt(document.getElementById("minutes").value)||0;
    let secs = parseInt(document.getElementById("seconds").value)||0;
    timerTime = mins*60+secs;

    if(timerTime>0){
        timerInterval = setInterval(()=>{
            if(timerTime>0){
                timerTime--;
                let m = Math.floor(timerTime/60);
                let s = timerTime%60;
                document.getElementById("timer").innerText =
                    String(m).padStart(2,"0")+":"+
                    String(s).padStart(2,"0");
            }else{
                clearInterval(timerInterval);
                document.getElementById("alarm").play();
            }
        },1000);
    }
}

function stopTimer(){
    clearInterval(timerInterval);
}

function resetTimer(){
    stopTimer();
    timerTime=0;
    document.getElementById("timer").innerText="00:00";
}
</script>

</body>
</html>
